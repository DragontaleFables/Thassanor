/* --------------------------------------------------------------------------------------------------------------------------------------------------------- //
   Author: 			Hayden Reeve
   File:			Billboarder.cs
   Version:			0.0.0
   Description: 	A simple script to automatically rotate sprites to face the player camera.
// --------------------------------------------------------------------------------------------------------------------------------------------------------- */

using System.Collections;
using System.Collections.Generic;
using UnityEngine;

[RequireComponent(typeof(SpriteRenderer))]
public class Billboarder : MonoBehaviour {

	/* --------------------------------------------------------------------------------------------------------------------------------------------------------- //
		References
	// --------------------------------------------------------------------------------------------------------------------------------------------------------- */

	SpriteRenderer _sr;
	[SerializeField] Transform _trCamera;

	/* --------------------------------------------------------------------------------------------------------------------------------------------------------- //
		Severity
	// --------------------------------------------------------------------------------------------------------------------------------------------------------- */

	[SerializeField] float _flSeverity;

	/* --------------------------------------------------------------------------------------------------------------------------------------------------------- //
		Initialisation
	// --------------------------------------------------------------------------------------------------------------------------------------------------------- */

	private void Awake() {

		_sr = GetComponent<SpriteRenderer>();
		_trCamera = _trCamera.GetComponent<Transform>();

	}

	/* --------------------------------------------------------------------------------------------------------------------------------------------------------- //
		Class Runtime
	// --------------------------------------------------------------------------------------------------------------------------------------------------------- */

	// Update is called once per frame
	private void Update () {

		//transform.LookAt(_trCamera.position * _flSeverity, Vector3.up);
		transform.LookAt(_trCamera.position + _trCamera.transform.rotation * Vector3.forward, _trCamera.transform.rotation * Vector3.up);
		
	}

}