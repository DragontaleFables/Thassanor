/* --------------------------------------------------------------------------------------------------------------------------------------------------------- //
   Author: 			Hayden Reeve
   File:			Billboarder.cs
   Version:			0.2.0
   Description: 	A simple script to automatically rotate sprites to face the player camera.
// --------------------------------------------------------------------------------------------------------------------------------------------------------- */

using UnityEngine;

public class Billboarder : MonoBehaviour {

	/* --------------------------------------------------------------------------------------------------------------------------------------------------------- //
		References
	// --------------------------------------------------------------------------------------------------------------------------------------------------------- */

	[SerializeField] private Transform _trCamera;

	/* --------------------------------------------------------------------------------------------------------------------------------------------------------- //
		Initialisation
	// --------------------------------------------------------------------------------------------------------------------------------------------------------- */

	private void Awake() {

		//_trCamera = _trCamera?.GetComponent<Transform>() ?? Camera.main.GetComponent<Transform>();
		_trCamera = Camera.main.GetComponent<Transform>();

	}

	/* --------------------------------------------------------------------------------------------------------------------------------------------------------- //
		Class Runtime
	// --------------------------------------------------------------------------------------------------------------------------------------------------------- */

	// Update is called once per frame
	private void FixedUpdate () {

		// We're simply asking the sprite to look towards the camera.
        transform.LookAt(transform.position + _trCamera.transform.rotation * Vector3.forward, _trCamera.transform.rotation * Vector3.up);	
		
	}

}